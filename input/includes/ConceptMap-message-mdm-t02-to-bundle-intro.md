
This ConceptMap represents the mapping from the HL7 V2 MDM_T02 Message to the FHIR Message Bundle. See also the <a href='https://github.com/HL7/v2-to-fhir/blob/master/tank/Message MDM_T02 to Bundle.fsh'>FHIR Shorthand</a> or the <a href='https://github.com/HL7/v2-to-fhir/blob/master/mappings/messages/HL7 Message - FHIR R4_ MDM _T02 - Sheet1.csv'>CSV Source</a>.
<table class='grid'><thead>
<tr><th colspan='6'>HL7 v2</th><th colspan='3'>Condition (IF True, args)</th><th colspan='3'>HL7 FHIR</th><th rowspan='2' title='Comments about the mapping'>Comments</th></tr>
<tr><th title='Rows are listed in sequence of how they appear in the v2 standard. The first column, Sort Order, provides a sort order that can re-create the original v2 standard sequence in case one opts to re-sort/filter the rows.'>Sort Order</th><th title='Contains an xml/json like path using the HL7 v2 XML approach of [MessageStructure].[GroupName or CHOICE].[SegmentName] where there may be multiple Group Names in play.'>Identifier</th><th title='Contains the first column of the Message Structure Table in the base standard.'>Syntax</th><th title='The formal name of the segment or group.'>Name</th><th title='The min cardinality expressed numerically.'>Cardinality - Min</th><td style='border-right: 2px' title='The max cardinality expressed numerically.'>Cardinality - Max</td><th title='Condition in an easy to read syntax (Computable ANTLR)'>Computable ANTLR</th><th title='Condition in FHIRPath Notation'>Computable FHIRPath</th><td style='border-right: 2px' title='Condition expressed in narrative form'>Narrative</td><th title='The FHIR resource that is the main resource that the v2 segment will map to.'>Primary Target</th><th title='The URL to the Segment Map that is to be used for the segment in this message structure in this location.'>Segment Map</th><th title='Defines for the Primary Target resource which resource.id it needs to reference.'>References</th></tr></thead>
<tbody>
<tr><td>1</td><td>MDM_T02.MSH</td><td>MSH</td><td>Message Header</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/bundle.html'>Bundle</a></td><td><a href='ConceptMap-segment-msh-to-bundle.html'>MSH[Bundle]</a></td><td></td><td></td></tr>
<tr><td>1</td><td>MDM_T02.MSH</td><td>MSH</td><td>Message Header</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/messageheader.html'>MessageHeader</a></td><td><a href='ConceptMap-segment-msh-to-messageheader.html'>MSH[MessageHeader]</a></td><td></td><td>Processing of the MSH segment results in the creation of a new MessageHeader resource</td></tr>
<tr><td>1</td><td>MDM_T02.MSH</td><td>MSH</td><td>Message Header</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/provenance.html'>Provenance</a></td><td><a href='ConceptMap-segment-msh-source-to-provenance.html'>MSH[Provenance-Source]</a></td><td>Provenance[1].target.reference=Bundle.id; Provenance[1].target.reference=MessageHeader[1].id</td><td>If the FHIR transformation does not yield a FHIR message, but only a set of resource (APIs, repository, etc.) than one should consider attaching this Provenance resource instance to the relevant FHIR resources generated.</td></tr>
<tr><td>1</td><td>MDM_T02.MSH</td><td>MSH</td><td>Message Header</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/provenance.html'>Provenance</a></td><td><a href='ConceptMap-segment-msh-transformation-to-provenance.html'>MSH[Provenance-Transformation]</a></td><td>Provenance[2].target.reference=Bundle.id</td><td>If the FHIR transformation does not yield a FHIR Bunlde, but only a set of resource (APIs, repository, etc.) than one should consider attaching this Provenance resource instance to the relevant FHIR resources generated.</td></tr>
<tr><td>2</td><td>MDM_T02.SFT</td><td>[{SFT}]</td><td>Software Segment</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'>If the software does represent not the original source system</td><td><a href='https://hl7.org/fhir/R4/provenance-definitions.html#Provenance.entity.what'>Provenance.entity.what</a>(<a href='https://hl7.org/fhir/R4/device.html'>Device</a>)</td><td><a href='ConceptMap-segment-sft-to-device.html'>SFT[Device]</a></td><td>Provenance[1].entity.what.reference=Device.id
Provenance[1].entity.role="derivation"</td><td></td></tr>
<tr><td>2</td><td>MDM_T02.SFT</td><td>[{SFT}]</td><td>Software Segment</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'>If the software represents the original source system</td><td><a href='https://hl7.org/fhir/R4/provenance-definitions.html#Provenance.entity.what'>Provenance.entity.what</a>(<a href='https://hl7.org/fhir/R4/device.html'>Device</a>)</td><td><a href='ConceptMap-segment-sft-to-device.html'>SFT[Device]</a></td><td>Provenance[1].entity.what.reference=Device.id
Provenance[1].entity.role="source"</td><td></td></tr>
<tr><td>3</td><td>MDM_T02.UAC</td><td>[ UAC ]</td><td>User Authentication Credential</td><td>0</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>4</td><td>MDM_T02.EVN</td><td>EVN</td><td>Event Type</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/provenance.html'>Provenance</a></td><td><a href='ConceptMap-segment-evn-to-provenance.html'>EVN[Provenance]</a></td><td>Provenance[3].target.reference=MessageHeader[1].id</td><td></td></tr>
<tr><td>5</td><td>MDM_T02.PID</td><td>PID</td><td>Patient Identification</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/patient.html'>Patient</a></td><td><a href='ConceptMap-segment-pid-to-patient.html'>PID[Patient]</a></td><td></td><td>Processing of the PID segment results in the creation of a new Patient resource</td></tr>
<tr><td>5</td><td>MDM_T02.PID</td><td>PID</td><td>Patient Identification</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/provenance.html'>Provenance</a></td><td><a href='ConceptMap-segment-pid-patient-to-provenance.html'>PID[Provenance-Patient]</a></td><td>Provenance.target.reference=Patient[1].id</td><td></td></tr>
<tr><td>6</td><td>MDM_T02.PV1</td><td>PV1</td><td>Patient Visit</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/encounter.html'>Encounter</a></td><td><a href='ConceptMap-segment-pv1-to-encounter.html'>PV1[Encounter]</a></td><td>Encounter.subject=Patient[PID]</td><td>Processing of the PV1 segment results in the creation of a new Encounter resource</td></tr>
<tr><td>6</td><td>MDM_T02.PV1</td><td>PV1</td><td>Patient Visit</td><td>1</td><td style='border-right: 2px'>1</td><td>IF PV1-43 VALUED</td><td></td><td style='border-right: 2px'></td><td><a href='#broken'><span style='font-weight: bold; color: red'>EncounterHistory</span></a></td><td><a href='ConceptMap-segment-pv1-to-encounterhistory.html'>PV1[EncounterHistory]</a></td><td>EncounterHistory.subject.reference=Patient[1].id</td><td></td></tr>
<tr><td>6</td><td>MDM_T02.PV1</td><td>PV1</td><td>Patient Visit</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/patient.html'>Patient</a></td><td><a href='ConceptMap-segment-pv1-to-patient.html'>PV1[Patient]</a></td><td></td><td></td></tr>
<tr><td>6</td><td>MDM_T02.PV1</td><td>PV1</td><td>Patient Visit</td><td>1</td><td style='border-right: 2px'>1</td><td>IF PV1-20 VALUE</td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/coverage.html'>Coverage</a></td><td><a href='ConceptMap-segment-pv1-to-coverage.html'>PV1[Coverage]</a></td><td>Coverage.beneficiary.reference=Patient[1].id</td><td></td></tr>
<tr><td>7</td><td>MDM_T02.COMMON_ORDER</td><td>[{</td><td>--- COMMON_ORDER begin</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>7.1</td><td>MDM_T02.COMMON_ORDER.ORC</td><td>ORC</td><td>Common order segment</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/servicerequest.html'>ServiceRequest</a></td><td><a href='ConceptMap-segment-orc-to-servicerequest.html'>ORC[ServiceRequest]</a></td><td>ServiceRequest.subject=Patient[PID]</td><td>Processing of each ORC segment results in the creation of a new ServiceRequest resource</td></tr>
<tr><td>7.1</td><td>MDM_T02.COMMON_ORDER.ORC</td><td>ORC</td><td>Common order segment</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/provenance.html'>Provenance</a></td><td><a href='ConceptMap-segment-orc-to-provenance.html'>ORC[Provenance]</a></td><td>Provenance.target=ServiceRequest[ORC]</td><td>Using Provenance is the preferred way, but a local implementation may decide to add extensions to the main resource.  As the use and guidance of Provenance matures we wil revisit this later.</td></tr>
<tr><td>7.2</td><td>MDM_T02.COMMON_ORDER.TIMING</td><td>[{</td><td>--- TIMING begin</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>7.2.1</td><td>MDM_T02.COMMON_ORDER.TIMING.TQ1</td><td>TQ1</td><td>Timing/Quantity</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/servicerequest.html'>ServiceRequest</a></td><td><a href='ConceptMap-segment-tq1-to-servicerequest.html'>TQ1[ServiceRequest]</a></td><td></td><td></td></tr>
<tr><td>7.2.2</td><td>MDM_T02.COMMON_ORDER.TIMING.TQ2</td><td>[{TQ2}]</td><td>Timing/Quantity Order Sequence</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>7.2.3</td><td>/MDM_T02.COMMON_ORDER.TIMING</td><td>}]</td><td>--- TIMING end</td><td></td><td style='border-right: 2px'></td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>7.3</td><td>MDM_T02.COMMON_ORDER.OBR</td><td>OBR</td><td>Observation request segment</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/servicerequest.html'>ServiceRequest</a></td><td><a href='ConceptMap-segment-obr-to-servicerequest.html'>OBR[ServiceRequest]</a></td><td></td><td></td></tr>
<tr><td>7.4</td><td>MDM_T02.COMMON_ORDER.NTE</td><td>[{ NTE }]</td><td>Notes and comments about the observation (OBR)</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/servicerequest.html'>ServiceRequest</a></td><td><a href='ConceptMap-segment-nte-to-servicerequest.html'>NTE[ServiceRequest]</a></td><td></td><td></td></tr>
<tr><td>7.5</td><td>/MDM_T02.COMMON_ORDER</td><td>}]</td><td>--- COMMON_ORDER end</td><td></td><td style='border-right: 2px'></td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>8</td><td>MDM_T02.TXA</td><td>TXA</td><td>Document Notification</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/documentreference.html'>DocumentReference</a></td><td><a href='ConceptMap-segment-txa-to-documentreference.html'>TXA[DocumentReference]</a></td><td>DocumentReference[1].context.related.reference=ServiceRequest[1].id</td><td>Note for detailed mapping to use </td></tr>
<tr><td>8</td><td>MDM_T02.TXA</td><td>TXA</td><td>Document Notification</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/provenance.html'>Provenance</a></td><td><a href='ConceptMap-segment-txa-to-provenance.html'>TXA[Provenance]</a></td><td>Provenance[1].target=DocumentReference[1].id</td><td></td></tr>
<tr><td>9</td><td>MDM_T02.CON</td><td>[{CON}]</td><td>Consent Segment</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>10</td><td>MDM_T02.OBSERVATION</td><td>{</td><td>--- OBSERVATION begin</td><td>1</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>10.1</td><td>MDM_T02.OBSERVATION.OBX</td><td>OBX</td><td>Observation/Result (one or more required)</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/documentreference.html'>DocumentReference</a></td><td><a href='ConceptMap-segment-obx-to-documentreference.html'>OBX[DocumentReference]</a></td><td>DocumentReference[1].context.related.reference=ServiceRequest[1].id</td><td></td></tr>
<tr><td>10.2</td><td>MDM_T02.OBSERVATION.NTE</td><td>[{ NTE }]</td><td>Notes and comments about the observation (OBX)</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/documentreference.html'>DocumentReference</a></td><td><a href='ConceptMap-segment-nte-to-documentreference.html'>NTE[DocumentReference]</a></td><td>DocumentReference[1].context.related.reference=ServiceRequest[1].id</td><td></td></tr>
<tr><td>10.3</td><td>/MDM_T02.OBSERVATION</td><td>}</td><td>--- OBSERVATION end</td><td></td><td style='border-right: 2px'></td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
</tbody>
</table>
