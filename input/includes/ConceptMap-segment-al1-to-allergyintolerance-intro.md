
This ConceptMap represents the mapping from the HL7 V2 AL1 Segment to the FHIR AllergyIntolerance Resource. See also the <a href='https://github.com/HL7/v2-to-fhir/blob/master/tank/Segment AL1 to AllergyIntolerance.fsh'>FHIR Shorthand</a> or the <a href='https://github.com/HL7/v2-to-fhir/blob/master/mappings/segments/HL7 Segment - FHIR R4_ AL1[AllergyIntolerance] - AL1.csv'>CSV Source</a>.
<table class='grid'><thead>
<tr><th colspan='6'>HL7 v2</th><th colspan='3'>Condition (IF True, args)</th><th colspan='8'>HL7 FHIR</th><th rowspan='2'>Comments</th></tr>
<tr><th title='Rows are listed in sequence of how they appear in the v2 standard. The first column, Sort Order, provides a sort order that can re-create the original v2 standard sequence in case one opts to re-sort/filter the rows.'>Sort Order</th><th title='Contains the formal Segment Name and Field Sequence according to the base standard using &quot;-&quot; as the delimiter.'>Identifier</th><th title='The formal name of the field in the most current published version.'>Name</th><th title='The data type of the field in the most current published version if not deprecated, otherwise the data type at the time it was deprecated and removed.'>Data Type</th><th title='The V2 min cardinality expressed numerically.'>Cardinality - Min</th><td style='border-right: 2px' title='The V2 max cardinality expressed numerically.'>Cardinality - Max</td><th title='Condition in an easy to read syntax (Computable ANTLR)'>Computable ANTLR</th><th title='Condition in FHIRPath Notation'>Computable FHIRPath</th><td style='border-right: 2px' title='Condition expressed in narrative form'>Narrative</td><th title='An existing FHIR attribute in the target FHIR version.'>FHIR Attribute</th><th title='A proposed extension. It will be expressed with #ext-...# around the proposed name. '>Extension</th><th title='The FHIR attribute&apos;s data type in the target FHIR version.'>Data Type</th><th title='The FHIR min cardinality expressed numerically.'>Cardinality - Min</th><td style='border-right: 2px' title='The FHIR max cardinality expressed numerically.'>Cardinality - Max</td><th title='The URL to the Data Type Map that is to be used for the attribute in this segment.'>Data Type Mapping</th><th title='The fixed or computed value to assign'>Vocabulary Mapping<br/>(IS, ID, CE, CEN, CWE)</th><th title='The URL to the Vocabulary Map that is to be used for the coded element for this attribute.'>Assignment</th></tr></thead>
<tbody>
<tr><td>0</td><td>AL1</td><td></td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/AllergyIntolerance.AllergyIntolerance-definitions.html#AllergyIntolerance.clinicalStatus.coding.code'>AllergyIntolerance.clinicalStatus.coding.code</a></td><td></td><td><a href='https://hl7.org/fhir/R4/datatypes.html#code'>code</a></td><td>0</td><td>1</td><td></td><td></td><td>"active"</td><td>While .clinicalStatus is not required, constraint ait-1 (AllergyIntolerance.clinicalStatus SHALL be present if verificationStatus is not entered-in-error.) does necessitate populating this element in the map as it's not possible to infer a verificationStatus of "entered-in-error" based on the data in AL1.</td></tr>
<tr><td>0</td><td>AL1</td><td></td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/AllergyIntolerance.AllergyIntolerance-definitions.html#AllergyIntolerance.clinicalStatus.coding.system'>AllergyIntolerance.clinicalStatus.coding.system</a></td><td></td><td><a href='https://hl7.org/fhir/R4/datatypes.html#uri'>uri</a></td><td>0</td><td>1</td><td></td><td></td><td>"<a href='http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical'>http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical</a>"</td><td></td></tr>
<tr><td>1</td><td>AL1-1</td><td>Set ID - AL1</td><td>SI</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td>This field doesn't warrant mapping
</td></tr>
<tr><td>2</td><td>AL1-2</td><td>Allergen Type Code</td><td>CWE</td><td>0</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/AllergyIntolerance.AllergyIntolerance-definitions.html#AllergyIntolerance.category'>AllergyIntolerance.category</a></td><td></td><td><a href='https://hl7.org/fhir/R4/datatypes.html#code'>code</a></td><td>0</td><td>-1</td><td><a href='ConceptMap-datatype-cwe-to-code.html'>CWE[code]</a></td><td><a href='ConceptMap-table-hl70127-to-allergy-intolerance-category.html'>AllergenType[AllergyIntoleranceCategory]</a></td><td></td><td>The FHIR table has a "required" binding. Do we need to expand the values in the FHIR table?

Could other be used for:
Miscellaneous allergy
Miscellaneous contraindication
Animal Allergy

HL70127 is a user defined table</td></tr>
<tr><td>2</td><td>AL1-2</td><td>Allergen Type Code</td><td>CWE</td><td>0</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/AllergyIntolerance.AllergyIntolerance-definitions.html#AllergyIntolerance.category.extension.url'>AllergyIntolerance.category.extension.url</a></td><td></td><td><a href='https://hl7.org/fhir/R4/datatypes.html#uri'>uri</a></td><td>1</td><td>1</td><td></td><td></td><td>"<a href='http://hl7.org/fhir/StructureDefinition/alternate-codes'>http://hl7.org/fhir/StructureDefinition/alternate-codes</a>"</td><td></td></tr>
<tr><td>2</td><td>AL1-2</td><td>Allergen Type Code</td><td>CWE</td><td>0</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/AllergyIntolerance.AllergyIntolerance-definitions.html#AllergyIntolerance.category.extension.valueCodeableConcept'>AllergyIntolerance.category.extension.valueCodeableConcept</a></td><td></td><td><a href='https://hl7.org/fhir/R4/datatypes.html#CodeableConcept'>CodeableConcept</a></td><td>1</td><td>1</td><td><a href='ConceptMap-datatype-cwe-to-codeableconcept.html'>CWE[CodeableConcept]</a></td><td><a href='ConceptMap-table-hl70127-to-v2-0127.html'>AllergenType[AllergyIntoleranceOriginalCategory]</a></td><td></td><td></td></tr>
<tr><td>2</td><td>AL1-2</td><td>Allergen Type Code</td><td>CWE</td><td>0</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/AllergyIntolerance.AllergyIntolerance-definitions.html#AllergyIntolerance.type'>AllergyIntolerance.type</a></td><td></td><td><a href='https://hl7.org/fhir/R4/datatypes.html#code'>code</a></td><td>0</td><td>1</td><td><a href='ConceptMap-datatype-cwe-to-code.html'>CWE[code]</a></td><td><a href='ConceptMap-table-hl70127-to-allergy-intolerance-type.html'>AllergyType</a></td><td></td><td></td></tr>
<tr><td>3</td><td>AL1-3</td><td>Allergen Code/Mnemonic/Description</td><td>CWE</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/datatypes.html#code'>code</a></td><td></td><td><a href='https://hl7.org/fhir/R4/datatypes.html#CodeableConcept'>CodeableConcept</a></td><td>0</td><td>1</td><td><a href='ConceptMap-datatype-cwe-to-codeableconcept.html'>CWE[CodeableConcept]</a></td><td></td><td></td><td></td></tr>
<tr><td>4</td><td>AL1-4</td><td>Allergy Severity Code</td><td>CWE</td><td>0</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'>If severity was used equivalent to criticality</td><td><a href='https://hl7.org/fhir/R4/AllergyIntolerance.AllergyIntolerance-definitions.html#AllergyIntolerance.criticality'>AllergyIntolerance.criticality</a></td><td></td><td><a href='https://hl7.org/fhir/R4/datatypes.html#code'>code</a></td><td>0</td><td>1</td><td><a href='ConceptMap-datatype-cwe-to-code.html'>CWE[code]</a></td><td><a href='ConceptMap-table-hl70128-to-allergy-intolerance-criticality.html'>AllergySeverity[AllergyIntolerance.criticality]</a></td><td></td><td>Note that AllergyIntolerance.reaction.severity is available in FHIR but from a base standard perspective that is actually not the most appropriate and would require that AL1-6 is valued as well.  However, a local implementation may have used vocabulary that better fits AllergyIntolerance.reaction.severity and should then consider that instead as a local variation.  Note that the .reaction though is at a particular time, while .criticality is an overall assement that matches HL7 v2 generally better.</td></tr>
<tr><td>4</td><td>AL1-4</td><td>Allergy Severity Code</td><td>CWE</td><td>0</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'>If severity was used equivalent to criticality</td><td><a href='https://hl7.org/fhir/R4/AllergyIntolerance.AllergyIntolerance-definitions.html#AllergyIntolerance.criticality.extension.url'>AllergyIntolerance.criticality.extension.url</a></td><td></td><td><a href='https://hl7.org/fhir/R4/datatypes.html#uri'>uri</a></td><td>1</td><td>1</td><td></td><td></td><td>"<a href='http://hl7.org/fhir/StructureDefinition/alternate-codes'>http://hl7.org/fhir/StructureDefinition/alternate-codes</a>"</td><td></td></tr>
<tr><td>4</td><td>AL1-4</td><td>Allergy Severity Code</td><td>CWE</td><td>0</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'>If severity was used equivalent to criticality</td><td><a href='https://hl7.org/fhir/R4/AllergyIntolerance.AllergyIntolerance-definitions.html#AllergyIntolerance.criticality.extension.valueCodeableConcept'>AllergyIntolerance.criticality.extension.valueCodeableConcept</a></td><td></td><td><a href='https://hl7.org/fhir/R4/datatypes.html#CodeableConcept'>CodeableConcept</a></td><td>1</td><td>1</td><td><a href='ConceptMap-datatype-cwe-to-codeableconcept.html'>CWE[CodeableConcept]</a></td><td><a href='ConceptMap-table-hl70128-original-to-v2-0128.html'>AllergySeverity[AllergyIntolerance.criticality-original]</a></td><td></td><td></td></tr>
<tr><td>4</td><td>AL1-4</td><td>Allergy Severity Code</td><td>CWE</td><td>0</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'>If severity was not used equivalent to criticality</td><td><a href='https://hl7.org/fhir/R4/AllergyIntolerance.AllergyIntolerance-definitions.html#AllergyIntolerance.reaction.severity'>AllergyIntolerance.reaction.severity</a></td><td></td><td><a href='https://hl7.org/fhir/R4/datatypes.html#code'>code</a></td><td>0</td><td>1</td><td><a href='ConceptMap-datatype-cwe-to-code.html'>CWE[Code]</a></td><td><a href='ConceptMap-table-hl70128-to-reaction-event-severity.html'>AllergySeverity[AllergyIntolerance.reaction.severity]</a></td><td></td><td></td></tr>
<tr><td>5</td><td>AL1-5</td><td>Allergy Reaction Code</td><td>ST</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/AllergyIntolerance.AllergyIntolerance-definitions.html#AllergyIntolerance.reaction.manifestation.text'>AllergyIntolerance.reaction.manifestation.text</a></td><td></td><td><a href='https://hl7.org/fhir/R4/datatypes.html#CodeableConcept'>CodeableConcept</a></td><td>0</td><td>1</td><td><a href='ConceptMap-datatype-st-to-codeableconcept.html'>ST[CodeableConcept]</a></td><td></td><td></td><td>AllergyIntolerance.reaction can repeat, presumably to capture both multiple manifestations of the reaction (rash and nausea) as well as reactions to independent exposures (last week and last month) - we may want to confirm this understanding.



</td></tr>
<tr><td>6</td><td>AL1-6</td><td>Identification Date</td><td>DT</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/AllergyIntolerance.AllergyIntolerance-definitions.html#AllergyIntolerance.onsetDateTime'>AllergyIntolerance.onsetDateTime</a></td><td></td><td><a href='https://hl7.org/fhir/R4/datatypes.html#dateTime'>dateTime</a></td><td>0</td><td>1</td><td></td><td></td><td></td><td>Withdrawn as of 2.7, Refer to IAM-11 Onset or IAM-13 Reported Date</td></tr>
</tbody>
</table>
