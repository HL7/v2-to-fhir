
This ConceptMap represents the mapping from the HL7 V2 SIU_S12 Message to the FHIR Message Bundle. See also the <a href='https://github.com/HL7/v2-to-fhir/blob/master/tank/Message SIU_S12 to Bundle.fsh'>FHIR Shorthand</a> or the <a href='https://github.com/HL7/v2-to-fhir/blob/master/mappings/messages/HL7 Message - FHIR R4_ SIU_S12 - Sheet1.csv'>CSV Source</a>.
<table class='grid'><thead>
<tr><th colspan='6'>HL7 v2</th><th colspan='3'>Condition (IF True, args)</th><th colspan='3'>HL7 FHIR</th><th rowspan='2' title='Comments about the mapping'>Comments</th></tr>
<tr><th title='Rows are listed in sequence of how they appear in the v2 standard. The first column, Sort Order, provides a sort order that can re-create the original v2 standard sequence in case one opts to re-sort/filter the rows.'>Sort Order</th><th title='Contains an xml/json like path using the HL7 v2 XML approach of [MessageStructure].[GroupName or CHOICE].[SegmentName] where there may be multiple Group Names in play.'>Identifier</th><th title='Contains the first column of the Message Structure Table in the base standard.'>Syntax</th><th title='The formal name of the segment or group.'>Name</th><th title='The min cardinality expressed numerically.'>Cardinality - Min</th><td style='border-right: 2px' title='The max cardinality expressed numerically.'>Cardinality - Max</td><th title='Condition in an easy to read syntax (Computable ANTLR)'>Computable ANTLR</th><th title='Condition in FHIRPath Notation'>Computable FHIRPath</th><td style='border-right: 2px' title='Condition expressed in narrative form'>Narrative</td><th title='The FHIR resource that is the main resource that the v2 segment will map to.'>Primary Target</th><th title='The URL to the Segment Map that is to be used for the segment in this message structure in this location.'>Segment Map</th><th title='Defines for the Primary Target resource which resource.id it needs to reference.'>References</th></tr></thead>
<tbody>
<tr><td>1</td><td>SIU_S12.MSH</td><td>MSH</td><td>Message Header</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/bundle.html'>Bundle</a></td><td><a href='ConceptMap-segment-msh-to-bundle.html'>MSH[Bundle]</a></td><td></td><td></td></tr>
<tr><td>1</td><td>SIU_S12.MSH</td><td>MSH</td><td>Message Header</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/messageheader.html'>MessageHeader</a></td><td><a href='ConceptMap-segment-msh-to-messageheader.html'>MSH[MessageHeader]</a></td><td></td><td>Processing of the MSH segment results in the creation of a new MessageHeader resource</td></tr>
<tr><td>1</td><td>SIU_S12.MSH</td><td>MSH</td><td>Message Header</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/provenance.html'>Provenance</a></td><td><a href='ConceptMap-segment-msh-source-to-provenance.html'>MSH[Provenance-Source]</a></td><td>Provenance[1].target.reference=Bundle.id; Provenance[1].target.reference=MessageHeader[1].id</td><td>.</td></tr>
<tr><td>1</td><td>SIU_S12.MSH</td><td>MSH</td><td>Message Header</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/provenance.html'>Provenance</a></td><td><a href='ConceptMap-segment-msh-transformation-to-provenance.html'>MSH[Provenance-Transformation]</a></td><td>Provenance[2].target.reference=Bundle.id</td><td></td></tr>
<tr><td>2</td><td>SIU_S12.SCH</td><td>SCH</td><td>Schedule Activity Information</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/appointment.html'>Appointment</a></td><td><a href='ConceptMap-segment-sch-to-appointment.html'>SCH[Appointment]</a></td><td>Appointment.participant.actor=Patient[1].id</td><td></td></tr>
<tr><td>2</td><td>SIU_S12.SCH</td><td>SCH</td><td>Schedule Activity Information</td><td>1</td><td style='border-right: 2px'>1</td><td>IF SCH-26 or SCH-27 VALUED</td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/servicerequest.html'>ServiceRequest</a></td><td><a href='ConceptMap-segment-sch-to-servicerequest.html'>SCH[ServiceRequest]</a></td><td>Appointment[1].basedOn=ServiceRequest[1..n].id
ServiceRequest[1..n].subject=Patient[1].id</td><td></td></tr>
<tr><td>2</td><td>SIU_S12.SCH</td><td>SCH</td><td>Schedule Activity Information</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/provenance.html'>Provenance</a></td><td><a href='ConceptMap-segment-sch-to-provenance.html'>SCH[Provenance]</a></td><td></td><td></td></tr>
<tr><td>3</td><td>SIU_S12.NTE</td><td>[ { NTE } ]</td><td>Notes and Comments</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/appointment.html'>Appointment</a></td><td><a href='ConceptMap-segment-nte-comment-to-appointment.html'>NTE[Appointment-Comment]</a></td><td>Appointment.participant.actor=Patient[1].id</td><td>Because multiple NTE segments in a message all need to map to a single Appointment.comment element, the content of the NTEs will need to be concatenated together in R4</td></tr>
<tr><td>4</td><td>SIU_S12.PATIENT</td><td>[{</td><td>--- PATIENT begin</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>4.1</td><td>SIU_S12.PATIENT.PID</td><td>PID</td><td>Patient Identification</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/patient.html'>Patient</a></td><td><a href='ConceptMap-segment-pid-to-patient.html'>PID[Patient]</a></td><td></td><td>Processing of the PID segment results in the creation of a new Patient resource</td></tr>
<tr><td>4.1</td><td>SIU_S12.PATIENT.PID</td><td>PID</td><td>Patient Identification</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/appointment.html'>Appointment</a></td><td><a href='ConceptMap-segment-pid-to-appointment.html'>PID[Appointment]</a></td><td>Appointment.participant.actor=Patient[1].id</td><td></td></tr>
<tr><td>4.1</td><td>SIU_S12.PATIENT.PID</td><td>PID</td><td>Patient Identification</td><td>1</td><td style='border-right: 2px'>1</td><td>IF PID-33 AND PID-34 VALUED</td><td></td><td style='border-right: 2px'>One  may drop PID-33 from the condition if PID-34 Last Update Facility is still sufficient without a date.</td><td><a href='https://hl7.org/fhir/R4/provenance.html'>Provenance</a></td><td><a href='ConceptMap-segment-pid-patient-to-provenance.html'>PID[Provenance-Patient]</a></td><td>Provenance.target.reference=Patient[1].id</td><td></td></tr>
<tr><td>4.2</td><td>SIU_S12.PATIENT.PV1</td><td>[ PV1 ]</td><td>Patient Visit</td><td>0</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/encounter.html'>Encounter</a></td><td><a href='ConceptMap-segment-pv1-to-encounter.html'>PV1[Encounter]</a></td><td>Encounter[1].subject.reference=Patient[1].id</td><td>Processing of the PV1 segment results in the creation of a new Encounter resource</td></tr>
<tr><td>4.2</td><td>SIU_S12.PATIENT.PV1</td><td>[ PV1 ]</td><td>Patient Visit</td><td>0</td><td style='border-right: 2px'>1</td><td>IF PV1-43 VALUED</td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/basic.html'>Basic</a></td><td><a href='ConceptMap-segment-pv1-encounterhistory-to-basic.html'>PV1[Basic-EncounterHistory]</a></td><td>Basic.extension-EncounterHistory.subject.reference=Patient[1].id</td><td></td></tr>
<tr><td>4.2</td><td>SIU_S12.PATIENT.PV1</td><td>[ PV1 ]</td><td>Patient Visit</td><td>0</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/patient.html'>Patient</a></td><td><a href='ConceptMap-segment-pv1-to-patient.html'>PV1[Patient]</a></td><td></td><td></td></tr>
<tr><td>4.2</td><td>SIU_S12.PATIENT.PV1</td><td>[ PV1 ]</td><td>Patient Visit</td><td>0</td><td style='border-right: 2px'>1</td><td>IF PV1-20 VALUE</td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/coverage.html'>Coverage</a></td><td><a href='ConceptMap-segment-pv1-to-coverage.html'>PV1[Coverage]</a></td><td>Coverage.beneficiary.reference=Patient[1].id</td><td></td></tr>
<tr><td>4.3</td><td>SIU_S12.PATIENT.PV2</td><td>[ PV2 ] </td><td>Patient Visit - Additional Info</td><td>0</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/encounter.html'>Encounter</a></td><td><a href='ConceptMap-segment-pv2-to-encounter.html'>PV2[Encounter]</a></td><td>Encounter.subject=Patient[1].id</td><td>Incorporate PV2 content into the Encounter created from the PV1 segment.</td></tr>
<tr><td>4.4</td><td>SIU_S12.PATIENT.OBX</td><td>[ { OBX } ]</td><td>Observation/Result</td><td>0</td><td style='border-right: 2px'>-1</td><td>IF OBX-5 LST.count LESS THAN OR EQUALS 1 OR OBX-2 IS "NA"</td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/observation.html'>Observation</a></td><td><a href='ConceptMap-segment-obx-to-observation.html'>OBX[Observation]</a></td><td>Observation.subject=Patient[1].id</td><td></td></tr>
<tr><td>4.4</td><td>SIU_S12.PATIENT.OBX</td><td>[ { OBX } ]</td><td>Observation/Result</td><td>0</td><td style='border-right: 2px'>-1</td><td>IF  OBX-5 LST.count GREATER THAN 1 AND OBX-2 IS NOT "NA"</td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/observation.html'>Observation</a></td><td><a href='ConceptMap-segment-obx-component-to-observation.html'>OBX[Observation-Component]</a></td><td>Observation.subject=Patient[1].id</td><td>Note that when OBX-5 repeats, the standard mapping is to use Observation.component (see OBX[Observation-Component] map) rather than creating separate Observation instances.  However, we are aware that some profiles and implementation guides do separate the OBX into multiple observations depending on the OBX-2 value.  This is an example of a non-standard interpretation as the OBX should have been separated into multiple OBX segments to start.  Please consider the local profiles and implementation guides on how to manage these variants.</td></tr>
<tr><td>4.5</td><td>SIU_S12.PATIENT.DG1</td><td>[ { DG1 } ]</td><td>Diagnosis</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'>If in context of the patient</td><td><a href='https://hl7.org/fhir/R4/condition.html'>Condition</a></td><td><a href='ConceptMap-segment-dg1-to-condition.html'>DG1[Condition]</a></td><td>Condition[1].subject.reference=Patient[1].id</td><td>Processing of the DG1 segment results in the creation of a new Condition resource</td></tr>
<tr><td>4.6</td><td>SIU_S12.PATIENT</td><td>}]</td><td>--- PATIENT end</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>5</td><td>SIU_S12.RESOURCES</td><td>{</td><td>--- RESOURCES begin RGS</td><td>1</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>5.1</td><td>SIU_S12.RESOURCES.RGS</td><td>RGS</td><td>Resource Group Segment </td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>5.2</td><td>SIU_S12.RESOURCES.SERVICE</td><td>[{</td><td>--- SERVICE begin AIS</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>5.2.1</td><td>SIU_S12.RESOURCES.SERVICE.AIS</td><td>AIS</td><td>Appointment Information - Service</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'>Determine which AIS populates Appointment if there is more than one AIS.</td><td><a href='https://hl7.org/fhir/R4/appointment.html'>Appointment</a></td><td><a href='ConceptMap-segment-ais-to-appointment.html'>AIS[Appointment]</a></td><td></td><td></td></tr>
<tr><td>5.2.1</td><td>SIU_S12.RESOURCES.SERVICE.AIS</td><td>AIS</td><td>Appointment Information - Service</td><td>1</td><td style='border-right: 2px'>1</td><td>IF SCH-26 IS VALUED OR SCH-27 IS VALUED</td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/servicerequest.html'>ServiceRequest</a></td><td><a href='ConceptMap-segment-ais-to-servicerequest.html'>AIS[ServiceRequest]</a></td><td></td><td>Note that each ServiceRequest being created includes data from SCH segment.
If SCH-26 and SCH-27 repeat, then the implementer needs to determine how to align this with potentially repeating AIS segments.</td></tr>
<tr><td>5.2.2</td><td>SIU_S12.RESOURCES.SERVICE.NTE</td><td>[ { NTE } ]</td><td>Notes and Comments</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'>Determine which AIS populates Appointment if there is more than one AIS.</td><td><a href='https://hl7.org/fhir/R4/appointment.html'>Appointment</a></td><td><a href='ConceptMap-segment-nte-comment-to-appointment.html'>NTE[Appointment-Comment]</a></td><td>Appointment.participant.actor=Patient[1].id</td><td>Because multiple NTE segments in a message all need to map to a single Appointment.comment element, the content of the NTEs will need to be concatenated together in R4</td></tr>
<tr><td>5.2.3</td><td>SIU_S12.RESOURCES.SERVICE</td><td>}]</td><td>--- SERVICE end</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>5.3</td><td>SIU_S12.RESOURCES.GENERAL_RESOURCE</td><td>[{</td><td>--- GENERAL_RESOURCE begin AIG</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>5.3.1</td><td>SIU_S12.RESOURCES.GENERAL_RESOURCE.AIG</td><td>AIG</td><td>Appointment Information - General Resource</td><td>1</td><td style='border-right: 2px'>1</td><td></td><td></td><td style='border-right: 2px'>Determine which AIG populates Appointment if there is more than one AIG.</td><td><a href='https://hl7.org/fhir/R4/appointment.html'>Appointment</a></td><td><a href='ConceptMap-segment-aig-to-appointment.html'>AIG[Appointment]</a></td><td></td><td></td></tr>
<tr><td>5.3.2</td><td>SIU_S12.RESOURCES.GENERAL_RESOURCE.NTE</td><td>[ { NTE } ]</td><td>Notes and Comments</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>5.3.3</td><td>SIU_S12.RESOURCES.GENERAL_RESOURCE</td><td>}]</td><td>--- GENERAL_RESOURCE end</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>5.4</td><td>SIU_S12.RESOURCES.LOCATION_RESOURCE</td><td>[{</td><td>--- LOCATION_RESOURCE begin AIL</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>5.4.1</td><td>SIU_S12.RESOURCES.LOCATION_RESOURCE.AIL</td><td>AIL</td><td>Appointment Information - Location Resource</td><td>1</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'>Determine which AIL populates Appointment if there is more than one AIL.</td><td><a href='https://hl7.org/fhir/R4/appointment.html'>Appointment</a></td><td><a href='ConceptMap-segment-ail-to-appointment.html'>AIL[Appointment]</a></td><td></td><td></td></tr>
<tr><td>5.4.2</td><td>SIU_S12.RESOURCES.LOCATION_RESOURCE.NTE</td><td>[ { NTE } ]</td><td>Notes and Comments</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>5.4.3</td><td>SIU_S12.RESOURCES.LOCATION_RESOURCE</td><td>}]</td><td>--- LOCATION_RESOURCE end</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>5.5</td><td>SIU_S12.RESOURCES.PERSONNEL_RESOURCE</td><td>[{</td><td>--- PERSONNEL_RESOURCE begin AIP</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>5.5.1</td><td>SIU_S12.RESOURCES.PERSONNEL_RESOURCE.AIP</td><td>AIP</td><td>Appointment Information - Personnel Resource</td><td>1</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td><a href='https://hl7.org/fhir/R4/appointment.html'>Appointment</a></td><td><a href='ConceptMap-segment-aip-to-appointment.html'>AIP[Appointment]</a></td><td></td><td></td></tr>
<tr><td>5.5.2</td><td>SIU_S12.RESOURCES.PERSONNEL_RESOURCE.NTE</td><td>[ { NTE } ]</td><td>Notes and Comments</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>5.5.3</td><td>SIU_S12.RESOURCES.PERSONNEL_RESOURCE</td><td>}]</td><td>--- PERSONNEL_RESOURCE end</td><td>0</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
<tr><td>5.6</td><td>SIU_S12.RESOURCES</td><td>}</td><td>--- RESOURCES end</td><td>1</td><td style='border-right: 2px'>-1</td><td></td><td></td><td style='border-right: 2px'></td><td></td><td></td><td></td><td></td></tr>
</tbody>
</table>
